<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/Cart/cart.css">
    <title>Document</title>
    <script src="https://kit.fontawesome.com/976e422f89.js" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <div class="head">
        <div class="h-row1">
            <div class="left-side">
                <a href="/index.html">BRANDS</a>
                <a href="/index.html">CURRENCY SELECTOR</a>
            </div>
            <div class="right-side">
                <a href="/login-signup/login.html">LOGIN</a>
                <a href="/index.html">WISHLIST</a>
                <a href="/index.html">BOOK MY APPOINTMENT</a>
                <a href="">CART</a>
            </div>
        </div>
        <div class="line"></div>
        <div class="h-row2" onclick="window.location.href = '/index.html'">
            <i class="fas fa-map-marker-alt"></i>
            <h4>WATCHES</h4>
            <h4>SMART & AUDIO</h4>
            <h4>EYEWEAR</h4>
            <img src="../images/image 1 (1).png" alt="">
            <h4>BAGS & MORE</h4>
            <h4>PERFUMES</h4>
            <h4>OFFERS & MORE</h4>
            <i class="fas fa-search"></i>
        </div>
    </div>
    <div class="body">
        <div class="items">
            <div class="cart-items">
                <h1 id="h1"></h1>
                <div class="card-i">

                </div>
            </div>
            <div class="summary">
                <h3>ORDER SUMMARY</h3>
                <div class="promo">
                    <input type="text" placeholder="Enter Promo Code">
                    <button>APPLY</button>
                </div>
                <div class="total">
                    <p id="p"></p>
                    <h6 id="total"></h6>
                </div>
                <div class="shipping">
                    <p>Shipping</p>
                    <h6>FREE</h6>
                </div>
                <div class="discount">
                    <p>Discount</p>
                    <h6>-₹2000</h6>
                </div>
                <div class="pay">
                    <h2>YOU PAY</h2>
                    <h2 id="pay-amount"></h2>
                </div>
                <h5>INCLUSIVE OF ALL TAXES*</h5>
                <div class="save">
                    <p>YOU SAVE</p>
                    <h6>₹2000</h6>
                </div>
                <button class="payment">PROCEED TO CHECKOUT</button>
                <a href="/index.html">CONTINUE SHOPPING</a>
            </div>
        </div>

    </div>
    <div class="foot">
        <div class="trending-products">
            <h2>YOU RECENTLY VIEWED</h2>
            <div class="trending-p-row" id="trending-p-row">

                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/38072AP01_1.jpg?impolicy=pqmed&imwidth=320"
                        alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/38072AP03_1.jpg?impolicy=pqmed&imwidth=320"
                        alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/38072AP04_1.jpg?impolicy=pqmed&imwidth=320"
                        alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/SWD90067PP01A_1.jpg?pView=listing" alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/SWD90067PP02A_1.jpg?pView=listing" alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/38072AP02_1.jpg?impolicy=pqmed&imwidth=320"
                        alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
                <div class="trending-products-images">
                    <img src="https://staticimg.titan.co.in/Fastrack/Catalog/38072AP04_1.jpg?impolicy=pqmed&imwidth=320"
                        alt="">
                    <h4>REFLEX VOX DIGITAL SILICON BL...</h4>
                    <div class="rate">
                        <del>54165</del>
                        <del>54165</del>
                    </div>
                </div>
            </div>
        </div>
        <div class="knowus" style="color: white;">
            <div id="know">
                <h3>CUSTOMER SERVICE</h3>
                <ul>
                    <li><a href="">Payment Options</a></li>
                    <li><a href="">Track Order</a></li>
                    <li><a href="">Find a Store</a></li>
                    <li><a href="">Delivery Information</a></li>
                </ul>
            </div>
            <div id="know2">
                <h3>POLICIES</h3>
                <ul>
                    <li><a href="">Cancellation</a></li>
                    <li><a href="">Return Policy</a></li>
                    <li><a href="">Warranty Policies</a></li>
                    <li><a href="">Terms and Conditions</a></li>
                    <li><a href="">Privacy Policy</a></li>
                </ul>
            </div>
            <div id="know3">
                <h3>ABOUT FASTRACK</h3>
                <ul>
                    <li><a href="">About us</a></li>
                    <li><a href="">Contact us</a></li>
                    <li><a href="">Careers</a></li>
                    <li><a href="">Need Help?</a></li>
                    <li><a href="">Chat with us <i class="fab fa-whatsapp"></i></a></li>
                </ul>
            </div>
            <div id="know4">
                <h3>Download App</h3>
                <div id="dowapp">
                    <img id="img-1"
                        src="https://www.freepnglogos.com/uploads/play-store-logo-png/play-store-logo-nisi-filters-australia-11.png">
                    <img id="img-2" src="https://www.vortex6.com/wp-content/uploads/2019/09/app-store.png">
                </div>
                <div id="sociallink">
                    <h3>Social link</h3>
                    <div class="svg">
                        <i class="fab fa-facebook"></i>
                        <i class="fab fa-twitter"></i>
                        <i class="fab fa-youtube"></i>
                        <i class="fab fa-instagram"></i>
                    </div>
                </div>
            </div>


        </div>
        <div class="last-foot">
            <img src="../images/footer-fastrack.png" alt="">
        </div>
    </div>
    <script>
        document.querySelector(".payment").addEventListener("click", function(){
            alert("Order Placed Successfully")
    window.location.href = "/index.html"
  })

  function reset(){
  var cartdata = JSON.parse(localStorage.getItem("cart"))
  console.log(cartdata)
  
    cartdata.map(function(elem, index,event){
        event.preventDefault
        var image = document.createElement("img")
   var h4 = document.createElement("h4")
   var rate = document.createElement("p")
   var strike = document.createElement("del")
   var offer = document.createElement("p")
   var btn1 = document.createElement("button")
   var btn2 = document.createElement("button")

   var card = document.createElement("div")
   card.className = "mens-watch"
   var price = document.createElement("div")
   var newd = document.createElement("div")
   price.className = "rate"
   var btns = document.createElement("div")
   btns.className = "btn"

   var dele = document.createElement("button")
    dele.textContent = "DELETE"
    dele.className = "delete-cart"
    dele.style.padding = "10px"
    dele.addEventListener("click",remove(elem))

   image.setAttribute("src",elem.image)
   h4.textContent = elem.h4
   
   rate.textContent = `₹${elem.rate}`
   rate.className = "rupee"
   
   strike.textContent = `₹${elem.strike}`

   offer.textContent = elem.offer
   offer.className = "offer"

   btn1.textContent = elem.button1
   btn1.style.backgroundColor = "blue"
   btn1.style.border = "none"
   btn1.style.padding = "10px"
   btn1.style.marginRight = "10px"
   btn1.style.color = "white"
   btn2.textContent = elem.button2
   btn2.style.backgroundColor = "blue"
   btn2.style.border = "none"
   btn2.style.padding = "10px"
   btn2.style.marginRight = "10px"
   btn2.style.color = "white"

   card.addEventListener("click", function(){
    popup(elem);
    window.location.href = "../popup/popup.html"
  })


   price.append(rate,strike,offer);
   btns.append(btn1,btn2,dele)
  newd.append(h4,price,btns)
   card.append(image,newd)
   document.querySelector(".card-i").append(card);
})



  function showtotal(){
      var total = cartdata.reduce(function(acc, item){
          return acc + (item.rate);
      },0)
      document.getElementById("total").textContent = total
      console.log(total)
      const finalize = total-2000
      document.getElementById("pay-amount").textContent = `₹ ${finalize}`
  }
  showtotal()
  
document.querySelector("#h1").textContent = `CART : ${cartdata.length}  ITEMS`
document.querySelector("#p").textContent = `Order Total (${cartdata.length}  Items)`
}

reset()


  function remove(payload){
    var cartdata = JSON.parse(localStorage.getItem("cart"))
    var newcart = cartdata.filter((item) => item.id !== payload.id);
    localStorage.setItem("cart",JSON.stringify(newcart));
    reset()
  }


 </script>
</body>

</html>